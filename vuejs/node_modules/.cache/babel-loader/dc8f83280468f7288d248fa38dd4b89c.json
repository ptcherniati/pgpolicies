{"remainingRequest":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/thread-loader/dist/cjs.js!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/Login.vue","mtime":1592291775364},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/thread-loader/dist/cjs.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vuetify-loader/lib/loader.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js","mtime":1592226066000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOwppbXBvcnQgY29uZmlnIGZyb20gIkAvY29uZmlnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbiIsCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICBjb25zb2xlLmxvZygnYmVmb3JlQ3JlYXRlJyk7IC8vc3RvcmUuZGlzcGF0Y2goImNyZWF0ZUNoYWxsZW5nZSIpOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMudXNlciA9IHN0b3JlLnN0YXRlLnVzZXI7IC8vdGhpcy5jbGltYXRpa1VzZXIgPSBzdG9yZS5zdGF0ZS5jbGltYXRpa1VzZXI7CiAgfSwKICBjb21wdXRlZDogewogICAgY29kZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICB2YXIgcm91dGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5jb2RlOwoKICAgICAgICBpZiAoc3RvcmUuc3RhdGUuY2xpbWF0aWtVc2VyID09IG51bGwgJiYgcm91dGUgIT0gbnVsbCkgewogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInJvdXRlIiwgcm91dGUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5LmNvZGU7CiAgICAgIH0KICAgIH0sCiAgICBjaGFsbGVuZ2U6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgaWYgKHN0b3JlLnN0YXRlLmNoYWxsZW5nZSA9PSBudWxsKSB7CiAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgiY3JlYXRlQ2hhbGxlbmdlIik7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmNoYWxsZW5nZS5jaGFsbGVuZ2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdmVyaWZpZXI6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmNoYWxsZW5nZSA9PSBudWxsID8gbnVsbCA6IHN0b3JlLnN0YXRlLmNoYWxsZW5nZS52ZXJpZmllcjsKICAgICAgfQogICAgfSwKICAgIGNsaW1hdGlrVXNlcjogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUuY2xpbWF0aWtVc2VyOwogICAgICB9CiAgICB9LAogICAgY2xpbWF0aWs6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmNoYWxsZW5nZSA9PSBudWxsID8gbnVsbCA6IGNvbmZpZy5DTElNQVRJSy5yZXBsYWNlKCclJWNvZGVfY2hhbGxlbmdlJSUnLCB0aGlzLmNoYWxsZW5nZSk7CiAgICAgIH0KICAgIH0KICB9LAogIHByb3BzOiB7fSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJsb2FkVXNlciIsIHRoaXMudXNlcik7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJ1bmxvYWRDbGltYXRpa1VzZXIiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvIgogICAgICB9KTsKICAgIH0sCgogICAgLypsb2dpbkNsaW1hdGlrQXV0aCgpIHsKICAgICAgdGhpcy4kYXV0aC5sb2dpbldpdGhSZWRpcmVjdCgpOwogICAgfSwKICAgIGxvZ291dENsaW1hdGlrQXV0aCgpIHsKICAgICAgdGhpcy4kYXV0aC5sb2dvdXQoewogICAgICAgIHJldHVyblRvOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luCiAgICAgIH0pOwogICAgfSwqLwogICAgbG9naW5DbGltYXRpazogZnVuY3Rpb24gbG9naW5DbGltYXRpaygpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goImxvYWRDbGltYXRpa1VzZXIiKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,KAAA,MAAA,SAAA;AACA,OAAA,MAAA,MAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,YAAA,EAAA,wBAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,cAAA,EADA,CAEA;AACA,GALA;AAMA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,IAAA,GAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CADA,CAEA;AACA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,YAAA,KAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,YAAA,IAAA,IAAA,IAAA,KAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,EAAA,KAAA;AACA;;AACA,eAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA;AAPA,KADA;AAWA,IAAA,SAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,SAAA,IAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,iBAAA;AACA,iBAAA,IAAA;AACA,SAHA,MAGA;AACA,iBAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,SAAA;AACA;AACA;AARA,KAXA;AAsBA,IAAA,QAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,CAAA,KAAA,CAAA,SAAA,IAAA,IAAA,GAAA,IAAA,GAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,QAAA;AACA;AAHA,KAtBA;AA4BA,IAAA,YAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,CAAA,KAAA,CAAA,YAAA;AACA;AAHA,KA5BA;AAiCA,IAAA,QAAA,EAAA;AACA,MAAA,GADA,iBACA;AACA,eAAA,KAAA,CAAA,KAAA,CAAA,SAAA,IAAA,IAAA,GAAA,IAAA,GAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,oBAAA,EAAA,KAAA,SAAA,CAAA;AACA;AAHA;AAjCA,GAVA;AAiDA,EAAA,KAAA,EAAA,EAjDA;AAkDA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,UAAA,EAAA,KAAA,IAAA;AACA,KAHA;AAIA,IAAA,MAJA,oBAIA;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,oBAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAPA;;AAQA;;;;;;;;AAQA,IAAA,aAhBA,2BAgBA;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,kBAAA;AACA;AAlBA;AAlDA,CAAA","sourcesContent":["<template>\n  <v-form class=\"login\">\n    <v-container>\n      <v-text-field\n        label=\"Login\"\n        v-model=\"user.username\"\n        required\n        name=\"Login\"\n      />\n      <v-text-field\n        label=\"Password\"\n        v-model=\"user.password\"\n        required\n        name=\"Password\"\n      />\n      <v-btn\n        @click=\"login\"\n        value=\"Se connecter\"\n      >\n        Se connecter\n      </v-btn>\n    </v-container>\n    <!--v-container\n      v-if=\"climatikUser!=null\"\n    >\n      {{ climatikUser }}\n    </v-container>\n    <v-container v-else-if=\"code!=null\">\n      Loading...\n    </v-container>\n    <v-container v-else>\n      <a\n        :href=\"\n          climatik\"\n      >\n        Se connecter 2\n      </a>\n    </v-container-->\n  </v-form>\n</template>\n\n<script>\nimport store from \"@/store\";\nimport config from \"@/config\";\nexport default {\n  name: \"Login\",\n  beforeCreate: function() {\n    console.log ('beforeCreate')\n      //store.dispatch(\"createChallenge\");\n  },\n  created: function() {\n    this.user = store.state.user;\n    //this.climatikUser = store.state.climatikUser;\n  },\n  computed: {\n    code: {\n      get() {\n        var route = this.$route.query.code;\n        if (store.state.climatikUser==null && route != null) {\n          store.dispatch(\"route\", route);\n        }\n        return this.$route.query.code;\n      }\n\n    },\n    challenge: {\n      get() {\n        if(store.state.challenge==null){\n          store.dispatch(\"createChallenge\");\n          return null;\n        } else{\n          return store.state.challenge.challenge;\n        }\n      }\n\n    },\n    verifier: {\n      get() {\n        return store.state.challenge==null?null:store.state.challenge.verifier;\n      }\n\n    },\n    climatikUser:{\n      get(){\n        return store.state.climatikUser;\n      }\n    },\n    climatik:{\n      get(){\n        return store.state.challenge==null?null:config.CLIMATIK.replace('%%code_challenge%%',this.challenge)\n      }\n    },\n  },\n  props: {},\n  methods: {\n    login() {\n      store.dispatch(\"loadUser\", this.user);\n    },\n    logout() {\n      store.dispatch(\"unloadClimatikUser\");\n      this.$router.push({ path: \"/\" });\n    },\n    /*loginClimatikAuth() {\n      this.$auth.loginWithRedirect();\n    },\n    logoutClimatikAuth() {\n      this.$auth.logout({\n        returnTo: window.location.origin\n      });\n    },*/\n    loginClimatik() {\n      store.dispatch(\"loadClimatikUser\");\n    },\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"],"sourceRoot":"src/components"}]}