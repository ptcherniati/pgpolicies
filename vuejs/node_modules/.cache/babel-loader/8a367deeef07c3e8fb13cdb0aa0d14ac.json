{"remainingRequest":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/thread-loader/dist/cjs.js!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/eslint-loader/index.js??ref--13-0!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/store.js","dependencies":[{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/store.js","mtime":1586419629209},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1585510160596},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/thread-loader/dist/cjs.js","mtime":1585510160508},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/eslint-loader/index.js","mtime":1585510160588}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lm1hcCI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBkZWZhdWx0RGF0YSBmcm9tICdAL2RhdGEnOwppbXBvcnQgaHR0cCBmcm9tICJAL2h0dHAvaHR0cC5qcyI7CmltcG9ydCBFdmVudEJ1cyBmcm9tICdAL2V2ZW50QnVzJzsKaW1wb3J0IHsgc3RvcmFnZSwgU3RvcmFnZSB9IGZyb20gIkAvc3RvcmFnZSI7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgZGF0YTogZGVmYXVsdERhdGEsCiAgICB1c2VyOiB7CiAgICAgIGluaXQ6IHRydWUsCiAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICBwYXNzd29yZDogInBhc3N3b3JkIgogICAgfSwKICAgIHVzZXJzOiB7fSwKICAgIHJvbGVzOiBudWxsLAogICAgYWxpbWVudHM6IG51bGwsCiAgICBhcHBsaWNhdGlvbnM6IFtdLAogICAgcG9saWNpZXM6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHJlbW92ZVVzZXI6IGZ1bmN0aW9uIHJlbW92ZVVzZXIoc3RhdGUpIHsKICAgICAgdGhpcy5zdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCBkYXRhKSB7CiAgICAgIHRoaXMuc3RhdGUudXNlciA9IGRhdGE7CiAgICAgIHRoaXMuZGlzcGF0Y2goJ2xvYWRVc2VycycpOwogICAgICB0aGlzLmRpc3BhdGNoKCdsb2FkQWxpbWVudHMnKTsKICAgICAgdGhpcy5kaXNwYXRjaCgnbG9hZFBvbGljaWVzJyk7CiAgICAgIHRoaXMuZGlzcGF0Y2goJ2xvYWRSb2xlcycpOwogICAgICBFdmVudEJ1cy4kZW1pdCgndXNlcjpjb25uZWN0ZWQnLCBkYXRhKTsKICAgIH0sCiAgICBzZXRVc2VyczogZnVuY3Rpb24gc2V0VXNlcnMoc3RhdGUsIGRhdGEpIHsKICAgICAgdGhpcy5zdGF0ZS51c2VycyA9IGRhdGEubWFwKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgdXNlci5oYXNSb2xlcyA9IHt9OwogICAgICAgIHVzZXIgPSB0aGlzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCByb2xlKSB7CiAgICAgICAgICBhY2MuaGFzUm9sZXNbcm9sZS5ub21dID0gYWNjLmF1dGhvcml0aWVzLmZpbmQoZnVuY3Rpb24gKGF1dGhvcml0eSkgewogICAgICAgICAgICByZXR1cm4gcm9sZS5ub20gPT0gYXV0aG9yaXR5LmF1dGhvcml0aWVzOwogICAgICAgICAgfSwge30pICE9IG51bGw7CiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0sIHVzZXIpOwogICAgICAgIHJldHVybiB1c2VyOwogICAgICB9LCB0aGlzLnN0YXRlLnJvbGVzKTsKICAgICAgRXZlbnRCdXMuJGVtaXQoJ3VzZXJzOmxvYWRlZCcsIGRhdGEpOwogICAgfSwKICAgIGxvZ091dDogZnVuY3Rpb24gbG9nT3V0KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIGlmIChwYXlsb2FkLm9rKSB7CiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3VzZXI6ZGlzY29ubmVjdGVkJywgcGF5bG9hZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3VzZXI6ZGlzY29ubmVjdGVkOmVycm9yJywgcGF5bG9hZCk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3RhdGUudXNlciA9IHsKICAgICAgICBpbml0OiB0cnVlCiAgICAgIH07CiAgICAgIHRoaXMuc3RhdGUuZGF0YSA9IGRlZmF1bHREYXRhOwogICAgfSwKICAgIHNldEFsaW1lbnRzOiBmdW5jdGlvbiBzZXRBbGltZW50cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB0aGlzLnN0YXRlLmFsaW1lbnRzID0gcGF5bG9hZDsKICAgICAgRXZlbnRCdXMuJGVtaXQoJ2FsaW1lbnRzOmxvYWRlZCcsIHBheWxvYWQpOwogICAgfSwKICAgIHNldFJvbGVzOiBmdW5jdGlvbiBzZXRSb2xlcyhzdGF0ZSwgZGF0YSkgewogICAgICBFdmVudEJ1cy4kZW1pdCgncm9sZXM6bG9hZGVkJywgZGF0YSk7CiAgICAgIHRoaXMuc3RhdGUucm9sZXMgPSBkYXRhOwogICAgfSwKICAgIHNldFBvbGljaWVzOiBmdW5jdGlvbiBzZXRQb2xpY2llcyhzdGF0ZSwgZGF0YSkgewogICAgICB0aGlzLnN0YXRlLnBvbGljaWVzID0gZGF0YTsKICAgICAgRXZlbnRCdXMuJGVtaXQoJ3BvbGljaWVzOmxvYWRlZCcsIGRhdGEpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9hZFVzZXI6IGZ1bmN0aW9uIGxvYWRVc2VyKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBodHRwLmxvZ2luKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIGNvbW1pdCgnc2V0VXNlcicsIGRhdGEpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3VzZXI6ZGlzY29ubmVjdGVkJyk7CiAgICAgICAgfSk7CiAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ3VzZXI6ZGlzY29ubmVjdGVkJyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgndXNlcjpkaXNjb25uZWN0ZWQnKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZFVzZXJzOiBmdW5jdGlvbiBsb2FkVXNlcnMoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgaHR0cC5sb2FkVXNlcnMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBjb21taXQoJ3NldFVzZXJzJywgZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29tbWl0KCdzZXRVc2VycycsIHJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgndXNlcnM6Y2FudGxvYWQnKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZENsaW1hdGlrVXNlcjogZnVuY3Rpb24gbG9hZENsaW1hdGlrVXNlcihfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBodHRwLmxvZ2luQ2xpbWF0aWtVc2VyKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsvL2NvbW1pdCgnc2V0Q2xpbWF0aWtVc2VyJywgcmVzcG9uc2UpCiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgnY2xpbWF0aWtVcnNlcjpkaXNjb25uZWN0ZWQnKTsKICAgICAgfSk7CiAgICB9LAogICAgcm91dGU6IGZ1bmN0aW9uIHJvdXRlKF9yZWY0LCBjb2RlKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGh0dHAucm91dGUoY29kZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb21taXQoJ3NldENsaW1hdGlrVXNlcicsIHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdjbGltYXRpa1Vyc2VyOmRpc2Nvbm5lY3RlZCcpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dChfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICBodHRwLmxvZ091dCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCdsb2dPdXQnLCByZXNwb25zZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgndXNlcnM6Y2FudGxvZ091dCcpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2FkQWxpbWVudHM6IGZ1bmN0aW9uIGxvYWRBbGltZW50cyhfcmVmNikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICBodHRwLmxvYWRBbGltZW50cygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICBjb21taXQoJ3NldEFsaW1lbnRzJywgZGF0YSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29tbWl0KCdzZXRBbGltZW50cycsIHJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBFdmVudEJ1cy4kZW1pdCgnYWxpbWVudDpjYW50Z2V0Jyk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRSb2xlczogZnVuY3Rpb24gbG9hZFJvbGVzKF9yZWY3KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgIGh0dHAubG9hZFJvbGVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGNvbW1pdCgnc2V0Um9sZXMnLCBkYXRhKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb21taXQoJ3NldFJvbGVzJywgcmVzcG9uc2UpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdyb2xlczpjYW50Z2V0Jyk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFJvbGU6IGZ1bmN0aW9uIGFkZFJvbGUoX3JlZjgsIHJvbGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb21taXQgPSBfcmVmOC5jb21taXQ7CiAgICAgIGNvbnNvbGUubG9nKCdldmVuZW1lbnQgYWRkIHLDtGxlIGJpZW4gcmXDp3UnICsgcm9sZSk7CiAgICAgIGh0dHAuYWRkUm9sZXMocm9sZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgIGNvbW1pdCgncm9sZXM6YWRkZWQnLCByZXNwb25zZS5oZWFkZXJzLmdldCgnTG9jYXRpb24nKSk7CgogICAgICAgICAgX3RoaXMuZGlzcGF0Y2goJ2xvYWRSb2xlcycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb21taXQoJ3JvbGVzL2FkZGVkOmZhaWwnLCByZXNwb25zZS5qc29uKCkpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdyb2xlczpjYW50Z2V0Jyk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRQb2xpY2llczogZnVuY3Rpb24gbG9hZFBvbGljaWVzKF9yZWY5KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICAgIGh0dHAubG9hZFBvbGljaWVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgIGNvbW1pdCgnc2V0UG9saWNpZXMnLCBkYXRhKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb21taXQoJ3NldFBvbGljaWVzJywgcmVzcG9uc2UpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIEV2ZW50QnVzLiRlbWl0KCdwb2xpY2llczpjYW50Z2V0Jyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dnZWQ6IGZ1bmN0aW9uIGlzTG9nZ2VkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyICE9IG51bGw7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/store.js"],"names":["Vue","Vuex","defaultData","http","EventBus","storage","Storage","use","Store","state","data","user","init","username","password","users","roles","aliments","applications","policies","mutations","removeUser","setUser","dispatch","$emit","setUsers","map","hasRoles","reduce","acc","role","nom","authorities","find","authority","logOut","payload","ok","setAliments","setRoles","setPolicies","actions","loadUser","commit","login","then","response","json","catch","error","console","log","loadUsers","loadClimatikUser","loginClimatikUser","route","code","loadAliments","loadRoles","addRole","addRoles","headers","get","loadPolicies","getters","isLogged"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport defaultData from '@/data'\nimport http from \"@/http/http.js\";\nimport EventBus from '@/eventBus';\nimport {\n    storage,\n    Storage\n} from \"@/storage\";\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        data: defaultData,\n        user: {\n            init: true,\n            username: \"admin\",\n            password: \"password\"\n        },\n        users: {},\n        roles: null,\n        aliments: null,\n        applications: [],\n        policies: [],\n    },\n    mutations: {\n        removeUser(state) {\n            this.state.user = null;\n        },\n        setUser(state, data) {\n            this.state.user = data;\n            this.dispatch('loadUsers');\n            this.dispatch('loadAliments');\n            this.dispatch('loadPolicies');\n            this.dispatch('loadRoles');\n            EventBus.$emit('user:connected', data)\n        },\n        setUsers(state, data) {\n            this.state.users = data.map(\n                function(user) {\n                    user.hasRoles = {};\n                    user = this\n                        .reduce((acc, role) => {\n                            acc.hasRoles[role.nom] = acc.authorities.find(authority => role.nom == authority.authorities, {}) != null;\n                            return acc\n                        }, user);\n                    return user;\n                }, this.state.roles);\n            EventBus.$emit('users:loaded', data)\n        },\n        logOut(state, payload) {\n            if (payload.ok) {\n                EventBus.$emit('user:disconnected', payload)\n            } else {\n                EventBus.$emit('user:disconnected:error', payload)\n            }\n            this.state.user = {\n                init: true,\n            };\n            this.state.data = defaultData;\n        },\n        setAliments(state, payload) {\n            this.state.aliments = payload;\n            EventBus.$emit('aliments:loaded', payload)\n        },\n        setRoles(state, data) {\n            EventBus.$emit('roles:loaded', data);\n            this.state.roles = data;\n        },\n        setPolicies(state, data) {\n            this.state.policies = data;\n            EventBus.$emit('policies:loaded', data)\n        },\n    },\n    actions: {\n        loadUser({\n            commit\n        }, user) {\n            http\n                .login(user)\n                .then(response => {\n                    response.json().then(function(data) {\n                            commit('setUser', data)\n                        })\n                        .catch(error => {\n                            console.log(error);\n                            EventBus.$emit('user:disconnected')\n                        });\n                    EventBus.$emit('user:disconnected')\n                })\n                .catch(error => {\n                    console.log(error);\n                    EventBus.$emit('user:disconnected')\n                });\n        },\n        loadUsers({\n            commit\n        }) {\n            http\n                .loadUsers()\n                .then(response => response.json())\n                .then(response => {\n                    if (response.ok) {\n                        response.json().then(function(data) {\n                            commit('setUsers', data)\n                        })\n                    } else {\n                        commit('setUsers', response)\n                    }\n                })\n                .catch(error => {\n                    console.log(error);\n                    EventBus.$emit('users:cantload')\n                });\n        },\n        loadClimatikUser({\n            commit\n        }) {\n            http\n                .loginClimatikUser()\n                .then(response => {\n                    //commit('setClimatikUser', response)\n                })\n                .catch(error => {\n                    console.log(error);\n                    EventBus.$emit('climatikUrser:disconnected')\n                });\n        },\n        route({\n            commit\n        }, code) {\n            http\n                .route(code)\n                .then(response => {\n                    commit('setClimatikUser', response)\n                })\n                .catch(error => {\n                    console.log(error);\n                    EventBus.$emit('climatikUrser:disconnected')\n                });\n        },\n        logOut({\n            commit\n        }) {\n            http\n                .logOut()\n                .then(response => {\n                    commit('logOut', response);\n                })\n                .catch(error => {\n                    console.log(error)\n                    EventBus.$emit('users:cantlogOut')\n                });\n        },\n        loadAliments({\n            commit\n        }) {\n            http\n                .loadAliments()\n                .then(response => {\n                    if (response.ok) {\n                        response.json().then(function(data) {\n                            commit('setAliments', data);\n                        })\n                    } else {\n                        commit('setAliments', response)\n                    }\n                })\n                .catch(error => {\n                    console.log(error)\n                    EventBus.$emit('aliment:cantget')\n                });\n        },\n        loadRoles({\n            commit\n        }) {\n            http\n                .loadRoles()\n                .then(response => {\n                    if (response.ok) {\n                        response.json().then(function(data) {\n                            commit('setRoles', data);\n                        })\n                    } else {\n                        commit('setRoles', response)\n                    }\n                })\n                .catch(error => {\n                    console.log(error)\n                    EventBus.$emit('roles:cantget')\n                });\n        },\n        addRole({\n            commit\n        }, role) {\n            console.log('evenement add rôle bien reçu' + role)\n            http\n                .addRoles(role)\n                .then(response => {\n                    if (response.ok) {\n                        commit('roles:added', response.headers.get('Location'))\n                        this.dispatch('loadRoles');\n                    } else {\n                        commit('roles/added:fail', response.json())\n                    }\n                })\n                .catch(error => {\n                    console.log(error)\n                    EventBus.$emit('roles:cantget')\n                });\n        },\n        loadPolicies({\n            commit\n        }) {\n            http\n                .loadPolicies()\n                .then(response => {\n                    if (response.ok) {\n                        response.json().then(function(data) {\n                            commit('setPolicies', data);\n                        })\n                    } else {\n                        commit('setPolicies', response)\n                    }\n                })\n                .catch(error => {\n                    console.log(error)\n                    EventBus.$emit('policies:cantget')\n                });\n        },\n    },\n    getters: {\n        isLogged(state) {\n            return state.user != null;\n        },\n    }\n})"]}]}