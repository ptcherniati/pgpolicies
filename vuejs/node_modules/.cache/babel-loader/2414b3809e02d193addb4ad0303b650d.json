{"remainingRequest":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/thread-loader/dist/cjs.js!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/administration/Policies.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/administration/Policies.vue","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/thread-loader/dist/cjs.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vuetify-loader/lib/loader.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1592226066000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js","mtime":1592226066000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvaG9tZS9wdGNoZXJuaWF0aS9OZXRCZWFuc1Byb2plY3RzL3NwcmluZy1ib290LWpwYS92dWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5tYXAiOwoKdmFyIF9uYW1lJG1ldGhvZHMkcHJvcHMkZDsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vaW1wb3J0IHsgc3RvcmFnZSwgU3RvcmFnZSB9IGZyb20gIkAvc3RvcmFnZSI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0IEV2ZW50QnVzIGZyb20gIkAvZXZlbnRCdXMiOwpleHBvcnQgZGVmYXVsdCAoX25hbWUkbWV0aG9kcyRwcm9wcyRkID0gewogIG5hbWU6ICJQb2xpY2llcyIsCiAgbWV0aG9kczoge30sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdJdGVtOiB7CiAgICAgICAgbm9tOiB7CiAgICAgICAgICBub206ICIiCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgZm9yOiAiQUxMIiwKICAgICAgICB1c2luZzogIiIsCiAgICAgICAgY2hlY2s6ICIiCiAgICAgIH0sCiAgICAgIG5ld1BvbGljeTogewogICAgICAgIG5vbTogewogICAgICAgICAgbm9tOiAiIgogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246ICIiLAogICAgICAgIGZvcjogIkFMTCIsCiAgICAgICAgdXNpbmc6ICIiLAogICAgICAgIGNoZWNrOiAiIgogICAgICB9LAogICAgICB2YWxpZDogZmFsc2UsCiAgICAgIHJ1bGVzOiBbZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgJ1JlcXVpcmVkLic7CiAgICAgIH0sIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgIHJldHVybiAodmFsdWUgfHwgJycpLmxlbmd0aCA+PSA2IHx8ICh2YWx1ZSB8fCAnJykubGVuZ3RoIDw9IDIwIHx8ICdMYSByw6hnbGUgZG9pdCBhdm9pciBlbnRyZSA2IGV0IDIwIGNhcmFjdMOocmVzJzsKICAgICAgfV0KICAgIH07CiAgfSwKICBiZWZvcmVDb21waWxlOiBmdW5jdGlvbiBiZWZvcmVDb21waWxlKCkge30sCiAgY29tcGlsZWQ6IGZ1bmN0aW9uIGNvbXBpbGVkKCkge30sCiAgcmVhZHk6IGZ1bmN0aW9uIHJlYWR5KCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgcG9saWNpZXNIZWFkZXI6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIFsibm9tIiwgImRlc2NyaXB0aW9uIiwgImZvciIsICJ1c2luZyIsICJjaGVjayJdOwogICAgICB9CiAgICB9LAogICAgZm9yU2VsZWN0OiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiBbIkFMTCIsICJTRUxFQ1QiLCAiSU5TRVJUIiwgIlVQREFURSIsICJERUxFVEUiXTsKICAgICAgfQogICAgfSwKICAgIG5vbVNlbGVjdDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5yb2xlcy5tYXAoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgIHJldHVybiByLm5vbTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHVzZXJzOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS51c2VyczsKICAgICAgfQogICAgfSwKICAgIHJvbGVzOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHZhciB1ID0gdGhpcy51c2VyOwogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5yb2xlczsKICAgICAgfQogICAgfSwKICAgIHBvbGljaWVzOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5wb2xpY2llczsKICAgICAgfQogICAgfQogIH0KfSwgX2RlZmluZVByb3BlcnR5KF9uYW1lJG1ldGhvZHMkcHJvcHMkZCwgIm1ldGhvZHMiLCB7CiAgYWRkUnVsZTogZnVuY3Rpb24gYWRkUnVsZSgpIHsKICAgIGNvbnNvbGUubG9nKCJham91dGVyIHVuZSByw6hnbGUiKTsKICAgIHZhciBwb2xpY3kgPSB0aGlzLm5ld1BvbGljeTsKICAgIHRoaXMubmV3UG9saWN5ID0gdGhpcy5uZXdJdGVtOwogICAgY29uc29sZS5kaXIocG9saWN5KTsKICAgIHRoaXMuJGVtaXQoJ2FkZFBvbGljeScsIHBvbGljeSk7CiAgICBzdG9yZS5kaXNwYXRjaCgnYWRkUG9saWN5JywgcG9saWN5KTsKICB9LAogIHJlbW92ZVJ1bGU6IGZ1bmN0aW9uIHJlbW92ZVJ1bGUocG9saWN5KSB7CiAgICBjb25zb2xlLmxvZygic3VwcHJpbWVyIHVuZSByw6hnbGUiKTsKICAgIHRoaXMuJGVtaXQoJ3JlbW92ZVBvbGljeScsIHBvbGljeSk7CiAgICBzdG9yZS5kaXNwYXRjaCgncmVtb3ZlUG9saWN5JywgcG9saWN5KTsKICAgIGNvbnNvbGUubG9nKHBvbGljeSk7CiAgfQp9KSwgX2RlZmluZVByb3BlcnR5KF9uYW1lJG1ldGhvZHMkcHJvcHMkZCwgIndhdGNoIiwge30pLCBfbmFtZSRtZXRob2RzJHByb3BzJGQpOw=="},{"version":3,"sources":["Policies.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-expansion-panel-content\n    id=\"policies\"\n    class=\"policies\"\n  >\n    <template v-slot:header>\n      <div>Policies</div>\n    </template>\n    <table\n      id=\"policies\"\n      class=\"roles\"\n    >\n      <tr>\n        <th\n          v-for=\"(item) in policiesHeader\"\n          :key=\"item\"\n        >\n          {{ item }}\n        </th>\n      </tr>\n      <tr\n        v-for=\"(item2) in policies\"\n        :key=\"item2.uri\"\n        :itemid=\"item2.id\"\n        :itemref=\"item2.uri\"\n      >\n        <td\n          v-for=\"(item) in policiesHeader\"\n          :key=\"item\"\n        >\n          <span v-if=\"item=='nom'\">\n            <v-select\n              v-model=\"item2[item].nom \"\n              :items=\"nomSelect\"\n            />\n          </span>\n          <span v-else-if=\"item=='for'\">\n            <v-select\n              v-model=\"item2.for\"\n              :items=\"forSelect\"\n            />\n          </span>\n          <span v-else>{{ item2[item] }}</span>\n        </td>\n        <td v-if=\"item2.nom.nom!='ROLE_ADMIN'\">\n          <v-btn\n            @click=\"removeRule(item2)\">\n            <v-icon>mdi-minus</v-icon>\n          </v-btn>\n        </td>\n      </tr>\n      <tr>\n        <td\n          v-for=\"(item) in policiesHeader\"\n          :key=\"item\"\n        >\n          <span v-if=\"item=='for'\">\n            <v-select\n              v-model=\"newPolicy.for\"\n              :items=\"forSelect\"\n            />\n          </span>\n          <span v-else-if=\"item=='nom'\">\n            <v-text-field\n              v-model=\"newPolicy.nom.nom\"\n              :rules=\"rules\"\n            />\n          </span>\n          <span v-else>\n            <v-text-field\n              v-model=\"newPolicy[item]\"\n              :rules=\"rules\"\n            />\n          </span>\n        </td>\n        <td>\n          <v-btn\n            @click=\"addRule\">\n            <v-icon>mdi-plus</v-icon>\n          </v-btn>\n        </td>\n      </tr>\n    </table>\n  </v-expansion-panel-content>\n</template>\n\n<script>\n//import { storage, Storage } from \"@/storage\";\nimport store from \"@/store\";\nimport EventBus from \"@/eventBus\";\nexport default {\n  name: \"Policies\",\n  methods: {\n  },\n  props:{\n  },\n  data: () => ({\n    newItem:{\n      nom:{nom:\"\"},\n      description:\"\",\n      for:\"ALL\",\n      using:\"\",\n      check:\"\"\n    },\n    newPolicy:{\n      nom:{nom:\"\"},\n      description:\"\",\n      for:\"ALL\",\n      using:\"\",\n      check:\"\"\n    },\n    valid:false,\n    rules: [\n      value => !!value || 'Required.',\n      value => (value || '').length >=6|| (value || '').length <= 20 || 'La règle doit avoir entre 6 et 20 caractères',\n    ],\n  }),\n  beforeCompile() {},\n  compiled() {},\n  ready() {},\n  mounted() {},\n  created() {},\n  computed: {\n    policiesHeader: {\n      get() {\n        return [\"nom\", \"description\", \"for\", \"using\", \"check\"];\n      }\n    },\n    forSelect: {\n      get() {\n        return [\"ALL\", \"SELECT\", \"INSERT\", \"UPDATE\", \"DELETE\"];\n      }\n    },\n    nomSelect: {\n      get() {\n        return this.roles.map(r => r.nom);\n      }\n    },\n    users: {\n      get() {\n        return store.state.users;\n      }\n    },\n    roles: {\n      get() {\n        var u = this.user;\n        return store.state.roles;\n      }\n    },\n    policies: {\n      get() {\n        return store.state.policies;\n      }\n    },\n  },\n  methods: {\n    addRule:function(){\n      console.log(\"ajouter une règle\")\n      var policy = this.newPolicy;\n      this.newPolicy=this.newItem;\n      console.dir(policy)\n      this.$emit('addPolicy',policy)\n      store.dispatch('addPolicy',policy);\n    },\n    removeRule:function(policy){\n      console.log(\"supprimer une règle\")\n      this.$emit('removePolicy',policy)\n      store.dispatch('removePolicy',policy);\n      console.log(policy);\n    },\n  },\n  watch: {}\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.user[data-v-74303864] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: baseline;\n  width: 100%;\n}\n\ntable.roles {\n  border-collapse: collapse;\n  font-size: 1.5em;\n}\ntable.roles td,\ntable.roles th {\n  text-align: center;\n  border: solid 1px grey;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n}\ntable.roles td:first-child,\ntable.roles td:first-child {\n  text-align: left;\n}\n</style>\n"],"sourceRoot":"src/components/administration"}]}