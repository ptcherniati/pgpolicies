{
  "remainingRequest": "/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/application/UploadApplication.vue?vue&type=script&lang=js&",
  "dependencies": [
    {
      "path": "/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/application/UploadApplication.vue",
      "mtime": 1585510159616
    },
    {
      "path": "/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js",
      "mtime": 1585510160596
    },
    {
      "path": "/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js",
      "mtime": 1585510159884
    },
    {
      "path": "/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vuetify-loader/lib/loader.js",
      "mtime": 1585510160728
    },
    {
      "path": "/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js",
      "mtime": 1585510160596
    },
    {
      "path": "/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js",
      "mtime": 1585510160504
    }
  ],
  "contextDependencies": [],
  "result": [
    {
      "type": "Buffer",
      "data": "base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IHsgc3RvcmFnZSwgU3RvcmFnZSB9IGZyb20gIkAvc3RvcmFnZSI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0IEV2ZW50QnVzIGZyb20gIkAvZXZlbnRCdXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwbG9hZEFwcGxpY2F0aW9uIiwKICBtb3VudGVkKCkgewogICAgRXZlbnRCdXMuJG9uKCJhcHBsaWNhdGlvbjpsb2FkZWQiLCBldmVudCA9PiB7CiAgICAgIGlmIChldmVudC5pZCkgewogICAgICAgIHRoaXMuc25hY2tiYXIudGV4dCA9ICJsYSBjb25maWd1cmF0aW9uIGEgw6l0w6kgY2hhcmfDqWUiOwogICAgICAgIHRoaXMuc25hY2tiYXIudmlzaWJsZSA9IHRydWU7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goImxvYWRBcHBsaWNhdGlvbkNvbmZpZ3VyYXRpb24iLCBldmVudC5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IG1lc3NhZ2UgPSAibGEgY29uZmlndXJhdGlvbiBuJ2EgcGFzIHB1IMOqdHJlIGNoYXJnw6llLiI7CiAgICAgICAgaWYgKGV2ZW50LnN0YXR1cyA9PSAzMDIpIHsKICAgICAgICAgIG1lc3NhZ2UgKz0gIiBMYSBjb25maWd1cmF0aW9uICI7CiAgICAgICAgfSBlbHNlIGlmIChldmVudC5zdGF0dXMgPT0gNDAxKSB7CiAgICAgICAgICBtZXNzYWdlICs9ICIgVm91cyBuJ8OqdGVzIHBhcyBhdXRvcmlzw6lzIMOgIGNoYXJnZXIgdW5lIGFwcGxpY2F0aW9uIjsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnN0YXR1cyA9PSA0MDMpIHsKICAgICAgICAgIG1lc3NhZ2UgKz0gIiBWb3VzIG4nYXZleiBwYXMgbGVzIGRyb2l0cyBwb3VyIGNoYXJnZXIgdW5lIGFwcGxpY2F0aW9uIjsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnN0YXR1cyA9PSA0MDQpIHsKICAgICAgICAgIG1lc3NhZ2UgPSAiTGUgc2VydmljZSBlc3QgaW5kaXNwb25pYmxlIHBvdXIgbGUgbW9tZW50LiI7CiAgICAgICAgfQogICAgICAgIHRoaXMuc25hY2tiYXIudGV4dCA9IG1lc3NhZ2U7CiAgICAgICAgdGhpcy5zbmFja2Jhci52aXNpYmxlID0gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgYXBwbGljYXRpb246IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5hcHBsaWNhdGlvbjsKICAgICAgfQogICAgfQogIH0sCiAgcHJvcHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzbmFja2JhcjogewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHRleHQ6ICIiCiAgICAgIH0sCiAgICAgIHZhbGlkOiBmYWxzZSAvKiovLAogICAgICBmaWxlTmFtZTogbnVsbCwKICAgICAgZmlsZVRvVXBsb2FkTmFtZTogbnVsbCwKICAgICAgZmlsZTogbnVsbCwKICAgICAgYXBwbGljYXRpb25OYW1lOiBudWxsIC8qICovLAogICAgICBuYW1lUnVsZXM6IFsKICAgICAgICAvKiAqLwogICAgICAgIHYgPT4gISF2IHx8ICJMZSBub20gZGUgbCdhcHBsaWNhdGlvbiBlc3QgcmVxdWlzIiwKICAgICAgICB2ID0+CiAgICAgICAgICAodiAmJiB2Lmxlbmd0aCA+PSA0ICYmIHYubGVuZ3RoIDw9IDIwKSB8fAogICAgICAgICAgImxlIG5vbSBkb2l0IMOqdHJlIGNvbXByaXMgZW4gNCBldCAyMCBjYXJhY3TDqHJlcy4iLAogICAgICAgIHYgPT4KICAgICAgICAgICh2ICYmIHYubWF0Y2goIl5bYS16QS1aXVthLXpBLVowLTlfXSokIikgIT0gbnVsbCkgfHwKICAgICAgICAgICJsZSBub20gY29tbWVuY2UgcGFyIHVuZSBsZXRycmUgZXQgbmUgY29tcG9ydGUgcXVlIGRlcyBsZXR0cmVzIGV0IGRlcyBjaGlmZnJlIG91IF8uIgogICAgICBdLAogICAgICBmaWxlUnVsZXM6IFsKICAgICAgICAvKiAqLwogICAgICAgIHYgPT4gISF2IHx8ICJMZSBmaWNoaWVyIGVzdCByZXF1aXMiCiAgICAgIF0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVGaWxlVXBsb2FkKCkgewogICAgICAvKiogKi8KICAgICAgdGhpcy5maWxlID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgICB0aGlzLmZpbGVUb1VwbG9hZE5hbWUgPSB0aGlzLmZpbGUubmFtZTsKICAgIH0sCiAgICB2YWxpZGF0ZSgpIHsKICAgICAgLyoqICovCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSAmJiB0aGlzLmZpbGUgIT0gbnVsbCkgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCJsb2FkQXBwbGljYXRpb24iLCB7CiAgICAgICAgICBhcHBsaWNhdGlvbk5hbWU6IHRoaXMuYXBwbGljYXRpb25OYW1lLAogICAgICAgICAgZmlsZTogdGhpcy5maWxlCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5yZXNldFZhbGlkYXRpb24oKTsKICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICByZXNldFZhbGlkYXRpb24oKSB7CiAgICAgIC8qKiAqLwogICAgICB0aGlzLmZpbGUgPSBudWxsOwogICAgICB0aGlzLmZpbGVUb1VwbG9hZE5hbWUgPSBudWxsOwogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICB9LAogICAgcGlja0ZpbGUoKSB7CiAgICAgIHRoaXMuJHJlZnMuZmlsZS5jbGljaygpOwogICAgfQogIH0sCiAgY29tcG9uZW50czoge30KfTsK"
    },
    {
      "version": 3,
      "sources": [
        "UploadApplication.vue"
      ],
      "names": [],
      "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
      "file": "UploadApplication.vue",
      "sourceRoot": "src/components/application",
      "sourcesContent": [
        "<template>\n  <v-expansion-panel\n    inset\n    id=\"uploadApplicationPanel\"\n  >\n    <v-expansion-panel-content>\n      <template v-slot:header>\n        <v-btn>Enregistrer une nouvelle application</v-btn>\n      </template>\n      <v-card>\n        <v-form\n          title=\"Enregistrer une nouvelle application\"\n          ref=\"form\"\n          v-model=\"valid\"\n          lazy-validation\n        >\n          <v-card>\n            <v-card-title\n              primary-title\n              class=\"pink lighten-5\"\n            >\n              <div>\n                <v-layout tag=\"h3\">\n                  Enregistrer une nouvelle configuration d'application\n                </v-layout>\n                <v-text-field\n                  v-model=\"applicationName\"\n                  :rules=\"nameRules\"\n                  label=\"Nom de l'application\"\n                  required\n                />\n                <v-text-field\n                  label=\"Choisissez-un fichier\"\n                  v-model=\"fileToUploadName\"\n                  :rules=\"fileRules\"\n                  append-icon=\"mdi-upload\"\n                  @click=\"pickFile\"\n                  required\n                >\n                  <v-icon>mdi-upload</v-icon>\n                </v-text-field>\n                <input\n                  style=\"display:none\"\n                  type=\"file\"\n                  id=\"applicationfileUpload\"\n                  ref=\"file\"\n                  @change=\"handleFileUpload()\"\n                >\n                <v-btn\n                  :disabled=\"!valid\"\n                  color=\"success\"\n                  @click=\"validate\"\n                >\n                  Enregistrer une nouvelle application\n                </v-btn>\n              </div>\n            </v-card-title>\n          </v-card>\n        </v-form>\n      </v-card>\n      <v-snackbar\n        top\n        vertical\n        v-model=\"snackbar.visible\"\n      >\n        {{ snackbar.text }}\n        <v-btn\n          flat\n          @click=\"snackbar.visible = false\"\n          class=\"red--text\"\n        >\n          fermer\n          <v-icon color=\"red\">\n            mdi-close\n          </v-icon>\n        </v-btn>\n      </v-snackbar>\n    </v-expansion-panel-content>\n  </v-expansion-panel>\n</template>\n\n<script>\n//import { storage, Storage } from \"@/storage\";\nimport store from \"@/store\";\nimport EventBus from \"@/eventBus\";\nexport default {\n  name: \"UploadApplication\",\n  mounted() {\n    EventBus.$on(\"application:loaded\", event => {\n      if (event.id) {\n        this.snackbar.text = \"la configuration a été chargée\";\n        this.snackbar.visible = true;\n        store.dispatch(\"loadApplicationConfiguration\", event.id);\n      } else {\n        let message = \"la configuration n'a pas pu être chargée.\";\n        if (event.status == 302) {\n          message += \" La configuration \";\n        } else if (event.status == 401) {\n          message += \" Vous n'êtes pas autorisés à charger une application\";\n        } else if (event.status == 403) {\n          message += \" Vous n'avez pas les droits pour charger une application\";\n        } else if (event.status == 404) {\n          message = \"Le service est indisponible pour le moment.\";\n        }\n        this.snackbar.text = message;\n        this.snackbar.visible = true;\n      }\n    });\n  },\n  computed: {\n    application: {\n      get() {\n        return store.state.application;\n      }\n    }\n  },\n  props: {},\n  data() {\n    return {\n      snackbar: {\n        visible: false,\n        text: \"\"\n      },\n      valid: false /**/,\n      fileName: null,\n      fileToUploadName: null,\n      file: null,\n      applicationName: null /* */,\n      nameRules: [\n        /* */\n        v => !!v || \"Le nom de l'application est requis\",\n        v =>\n          (v && v.length >= 4 && v.length <= 20) ||\n          \"le nom doit être compris en 4 et 20 caractères.\",\n        v =>\n          (v && v.match(\"^[a-zA-Z][a-zA-Z0-9_]*$\") != null) ||\n          \"le nom commence par une letrre et ne comporte que des lettres et des chiffre ou _.\"\n      ],\n      fileRules: [\n        /* */\n        v => !!v || \"Le fichier est requis\"\n      ]\n    };\n  },\n  methods: {\n    handleFileUpload() {\n      /** */\n      this.file = this.$refs.file.files[0];\n      this.fileToUploadName = this.file.name;\n    },\n    validate() {\n      /** */\n      if (this.$refs.form.validate() && this.file != null) {\n        store.dispatch(\"loadApplication\", {\n          applicationName: this.applicationName,\n          file: this.file\n        });\n        this.resetValidation();\n        this.valid = false;\n      }\n    },\n    resetValidation() {\n      /** */\n      this.file = null;\n      this.fileToUploadName = null;\n      this.$refs.form.resetValidation();\n    },\n    pickFile() {\n      this.$refs.file.click();\n    }\n  },\n  components: {}\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"
      ]
    }
  ]
}