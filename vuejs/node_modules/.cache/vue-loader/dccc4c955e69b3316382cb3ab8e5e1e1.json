{"remainingRequest":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/src/components/Login.vue","mtime":1586956442226},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vuetify-loader/lib/loader.js","mtime":1585510160728},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/cache-loader/dist/cjs.js","mtime":1585510160596},{"path":"/home/ptcherniati/NetBeansProjects/spring-boot-jpa/vuejs/node_modules/vue-loader/lib/index.js","mtime":1585510160504}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHN0b3JhZ2UsIFN0b3JhZ2UgfSBmcm9tICJAL3N0b3JhZ2UiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7CmltcG9ydCBjb25maWcgZnJvbSAiQC9jb25maWciOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjcmVhdGVkOiBmdW5jdGlvbigpIHsKICAgIHRoaXMudXNlciA9IHN0b3JlLnN0YXRlLnVzZXI7CiAgICB0aGlzLmNsaW1hdGlrVXNlciA9IHN0b3JlLnN0YXRlLmNsaW1hdGlrVXNlcjsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb2RlOiB7CiAgICAgIGdldCgpIHsKICAgICAgICB2YXIgcm91dGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5jb2RlOwogICAgICAgIGlmIChzdG9yZS5zdGF0ZS5jbGltYXRpa1VzZXI9PW51bGwgJiYgcm91dGUgIT0gbnVsbCkgewogICAgICAgICAgc3RvcmUuZGlzcGF0Y2goInJvdXRlIiwgcm91dGUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkuY29kZTsKICAgICAgfQoKICAgIH0sCiAgICBjb2RlX2NoYWxsZW5nZTogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmNvZGVfY2hhbGxlbmdlOwogICAgICB9CgogICAgfSwKICAgIGNsaW1hdGlrVXNlcjp7CiAgICAgIGdldCgpewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5jbGltYXRpa1VzZXI7CiAgICAgIH0KICAgIH0KICB9LAogIHByb3BzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xpbWF0aWs6IGNvbmZpZy5DTElNQVRJSy5yZXBsYWNlKCclJWNvZGVfY2hhbGxlbmdlJSUnLHN0b3JlLmdldHRlcnMuY29kZUNoYWxsZW5nZSkKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbigpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goImxvYWRVc2VyIiwgdGhpcy51c2VyKTsKICAgIH0sCiAgICBsb2dvdXQoKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKCJ1bmxvYWRDbGltYXRpa1VzZXIiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiLyIgfSk7CiAgICB9LAogICAgLypsb2dpbkNsaW1hdGlrQXV0aCgpIHsKICAgICAgdGhpcy4kYXV0aC5sb2dpbldpdGhSZWRpcmVjdCgpOwogICAgfSwKICAgIGxvZ291dENsaW1hdGlrQXV0aCgpIHsKICAgICAgdGhpcy4kYXV0aC5sb2dvdXQoewogICAgICAgIHJldHVyblRvOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luCiAgICAgIH0pOwogICAgfSwqLwogICAgbG9naW5DbGltYXRpaygpIHsKICAgICAgc3RvcmUuZGlzcGF0Y2goImxvYWRDbGltYXRpa1VzZXIiKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-form class=\"login\">\n    <v-container>\n      <v-text-field\n        label=\"Login\"\n        v-model=\"user.username\"\n        required\n        name=\"Login\"\n      />\n      <v-text-field\n        label=\"Password\"\n        v-model=\"user.password\"\n        required\n        name=\"Password\"\n      />\n      <v-btn\n        @click=\"login\"\n        value=\"Se connecter\"\n      >\n        Se connecter\n      </v-btn>\n    </v-container>\n    <v-container\n      v-if=\"climatikUser!=null\"\n    >\n      {{ climatikUser }}\n    </v-container>\n    <v-container v-else-if=\"code!=null\">\n      Loading...\n    </v-container>\n    <v-container v-else>\n      <a\n        :href=\"\n          climatik\"\n      >\n        Se connecter 2\n      </a>\n    </v-container>\n  </v-form>\n</template>\n\n<script>\nimport { storage, Storage } from \"@/storage\";\nimport store from \"@/store\";\nimport config from \"@/config\";\nexport default {\n  name: \"Login\",\n  created: function() {\n    this.user = store.state.user;\n    this.climatikUser = store.state.climatikUser;\n  },\n  computed: {\n    code: {\n      get() {\n        var route = this.$route.query.code;\n        if (store.state.climatikUser==null && route != null) {\n          store.dispatch(\"route\", route);\n        }\n        return this.$route.query.code;\n      }\n\n    },\n    code_challenge: {\n      get() {\n        return store.state.code_challenge;\n      }\n\n    },\n    climatikUser:{\n      get(){\n        return store.state.climatikUser;\n      }\n    }\n  },\n  props: {},\n  data() {\n    return {\n      climatik: config.CLIMATIK.replace('%%code_challenge%%',store.getters.codeChallenge)\n    };\n  },\n  methods: {\n    login() {\n      store.dispatch(\"loadUser\", this.user);\n    },\n    logout() {\n      store.dispatch(\"unloadClimatikUser\");\n      this.$router.push({ path: \"/\" });\n    },\n    /*loginClimatikAuth() {\n      this.$auth.loginWithRedirect();\n    },\n    logoutClimatikAuth() {\n      this.$auth.logout({\n        returnTo: window.location.origin\n      });\n    },*/\n    loginClimatik() {\n      store.dispatch(\"loadClimatikUser\");\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}